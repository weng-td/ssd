import{S as ge,i as xe,s as ye,a as y,k as d,q as D,$ as we,h as r,c as w,l as h,m as i,r as P,n as t,b as U,F as l,a0 as ve,I as le,a1 as Ee,G as pe,T as be,o as Ie,D as G,E as H,u as ke}from"../chunks/index.734491ab.js";import{g as me}from"../chunks/navigation.536363b5.js";function _e(f){let a,s,e,o,n,g,E;return{c(){a=d("div"),s=G("svg"),e=G("circle"),o=G("line"),n=G("line"),g=y(),E=D(f[1]),this.h()},l(m){a=h(m,"DIV",{class:!0});var c=i(a);s=H(c,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0});var v=i(s);e=H(v,"circle",{cx:!0,cy:!0,r:!0}),i(e).forEach(r),o=H(v,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),i(o).forEach(r),n=H(v,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),i(n).forEach(r),v.forEach(r),g=w(c),E=P(c,f[1]),c.forEach(r),this.h()},h(){t(e,"cx","12"),t(e,"cy","12"),t(e,"r","10"),t(o,"x1","12"),t(o,"y1","8"),t(o,"x2","12"),t(o,"y2","12"),t(n,"x1","12"),t(n,"y1","16"),t(n,"x2","12.01"),t(n,"y2","16"),t(s,"xmlns","http://www.w3.org/2000/svg"),t(s,"width","16"),t(s,"height","16"),t(s,"viewBox","0 0 24 24"),t(s,"fill","none"),t(s,"stroke","currentColor"),t(s,"stroke-width","2"),t(a,"class","error-message svelte-xhd0ux")},m(m,c){U(m,a,c),l(a,s),l(s,e),l(s,o),l(s,n),l(a,g),l(a,E)},p(m,c){c&2&&ke(E,m[1])},d(m){m&&r(a)}}}function Se(f){let a;return{c(){a=D("Sign In")},l(s){a=P(s,"Sign In")},m(s,e){U(s,a,e)},d(s){s&&r(a)}}}function Te(f){let a,s;return{c(){a=d("span"),s=D(`
          Signing in...`),this.h()},l(e){a=h(e,"SPAN",{class:!0}),i(a).forEach(r),s=P(e,`
          Signing in...`),this.h()},h(){t(a,"class","spinner svelte-xhd0ux")},m(e,o){U(e,a,o),U(e,s,o)},d(e){e&&r(a),e&&r(s)}}}function De(f){let a,s,e,o,n,g,E,m,c,v,j,B,J,K,C,z,Q,q,I,T,V,W,X,_,Y,b,Z,L,O,$,N,ee,te,ae,p=f[1]&&_e(f);function re(u,S){return u[2]?Te:Se}let A=re(f),k=A(f);return{c(){a=y(),s=d("div"),e=d("div"),o=d("div"),n=d("div"),g=d("div"),E=y(),m=d("div"),c=y(),v=d("div"),j=y(),B=d("h1"),J=D("Remote Terminal"),K=y(),C=d("p"),z=D("Secure collaborative terminal access"),Q=y(),p&&p.c(),q=y(),I=d("form"),T=d("div"),V=d("label"),W=D("Password"),X=y(),_=d("input"),Y=y(),b=d("button"),k.c(),Z=y(),L=d("div"),O=d("p"),$=D("Default password: "),N=d("code"),ee=D("titeo123"),this.h()},l(u){we("svelte-1wei8sp",document.head).forEach(r),a=w(u),s=h(u,"DIV",{class:!0});var oe=i(s);e=h(oe,"DIV",{class:!0});var x=i(e);o=h(x,"DIV",{class:!0});var ne=i(o);n=h(ne,"DIV",{class:!0});var R=i(n);g=h(R,"DIV",{class:!0}),i(g).forEach(r),E=w(R),m=h(R,"DIV",{class:!0}),i(m).forEach(r),c=w(R),v=h(R,"DIV",{class:!0}),i(v).forEach(r),R.forEach(r),ne.forEach(r),j=w(x),B=h(x,"H1",{class:!0});var ie=i(B);J=P(ie,"Remote Terminal"),ie.forEach(r),K=w(x),C=h(x,"P",{class:!0});var ce=i(C);z=P(ce,"Secure collaborative terminal access"),ce.forEach(r),Q=w(x),p&&p.l(x),q=w(x),I=h(x,"FORM",{class:!0});var F=i(I);T=h(F,"DIV",{class:!0});var M=i(T);V=h(M,"LABEL",{for:!0,class:!0});var ue=i(V);W=P(ue,"Password"),ue.forEach(r),X=w(M),_=h(M,"INPUT",{id:!0,type:!0,placeholder:!0,autocomplete:!0,class:!0}),M.forEach(r),Y=w(F),b=h(F,"BUTTON",{type:!0,class:!0});var de=i(b);k.l(de),de.forEach(r),F.forEach(r),Z=w(x),L=h(x,"DIV",{class:!0});var he=i(L);O=h(he,"P",{class:!0});var se=i(O);$=P(se,"Default password: "),N=h(se,"CODE",{class:!0});var fe=i(N);ee=P(fe,"titeo123"),fe.forEach(r),se.forEach(r),he.forEach(r),x.forEach(r),oe.forEach(r),this.h()},h(){document.title="Login - Remote Terminal",t(g,"class","terminal-line svelte-xhd0ux"),t(m,"class","terminal-line svelte-xhd0ux"),t(v,"class","terminal-line svelte-xhd0ux"),t(n,"class","terminal-icon svelte-xhd0ux"),t(o,"class","logo svelte-xhd0ux"),t(B,"class","title svelte-xhd0ux"),t(C,"class","subtitle svelte-xhd0ux"),t(V,"for","password"),t(V,"class","svelte-xhd0ux"),t(_,"id","password"),t(_,"type","password"),t(_,"placeholder","Enter your password"),_.disabled=f[2],t(_,"autocomplete","current-password"),t(_,"class","svelte-xhd0ux"),t(T,"class","input-group svelte-xhd0ux"),t(b,"type","submit"),t(b,"class","login-button svelte-xhd0ux"),b.disabled=f[2],t(I,"class","login-form svelte-xhd0ux"),t(N,"class","svelte-xhd0ux"),t(O,"class","hint svelte-xhd0ux"),t(L,"class","footer svelte-xhd0ux"),t(e,"class","login-box svelte-xhd0ux"),t(s,"class","login-container svelte-xhd0ux")},m(u,S){U(u,a,S),U(u,s,S),l(s,e),l(e,o),l(o,n),l(n,g),l(n,E),l(n,m),l(n,c),l(n,v),l(e,j),l(e,B),l(B,J),l(e,K),l(e,C),l(C,z),l(e,Q),p&&p.m(e,null),l(e,q),l(e,I),l(I,T),l(T,V),l(V,W),l(T,X),l(T,_),ve(_,f[0]),l(I,Y),l(I,b),k.m(b,null),l(e,Z),l(e,L),l(L,O),l(O,$),l(O,N),l(N,ee),te||(ae=[le(_,"input",f[5]),le(_,"keypress",f[4]),le(I,"submit",Ee(f[3]))],te=!0)},p(u,[S]){u[1]?p?p.p(u,S):(p=_e(u),p.c(),p.m(e,q)):p&&(p.d(1),p=null),S&4&&(_.disabled=u[2]),S&1&&_.value!==u[0]&&ve(_,u[0]),A!==(A=re(u))&&(k.d(1),k=A(u),k&&(k.c(),k.m(b,null))),S&4&&(b.disabled=u[2])},i:pe,o:pe,d(u){u&&r(a),u&&r(s),p&&p.d(),k.d(),te=!1,be(ae)}}}function Pe(f,a,s){let e="",o="",n=!1;Ie(()=>{const c=localStorage.getItem("authToken"),v=localStorage.getItem("authTime");if(c&&v&&Date.now()-parseInt(v)<24*60*60*1e3){me("/");return}localStorage.removeItem("authToken"),localStorage.removeItem("authTime")});async function g(){if(!e){s(1,o="Please enter password");return}s(2,n=!0),s(1,o="");try{const c=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e})}),v=await c.json();c.ok&&v.success?(localStorage.setItem("authToken",v.token),localStorage.setItem("authTime",Date.now().toString()),await me("/")):(s(1,o=v.message||"Invalid password. Please try again."),s(0,e=""))}catch(c){console.error("Login error:",c),s(1,o="Unable to connect to server. Please try again.")}finally{s(2,n=!1)}}function E(c){c.key==="Enter"&&g()}function m(){e=this.value,s(0,e)}return[e,o,n,g,E,m]}class Be extends ge{constructor(a){super(),xe(this,a,Pe,De,ye,{})}}export{Be as component};
